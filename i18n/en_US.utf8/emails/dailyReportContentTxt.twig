{% import _self as emailTable %}
{% macro bytesToSize(bytes) %}
{% spaceless %}
    {% set kilobyte = 1024 %}
    {% set megabyte = kilobyte * 1024 %}
    {% set gigabyte = megabyte * 1024 %}
    {% set terabyte = gigabyte * 1024 %}

    {% if bytes < kilobyte %}
        {{ bytes ~ ' B' }}
    {% elseif bytes < megabyte %}
        {{ (bytes / kilobyte)|number_format(2, '.') ~ ' KB' }}
    {% elseif bytes < gigabyte %}
        {{ (bytes / megabyte)|number_format(2, '.') ~ ' MB' }}
    {% elseif bytes < terabyte %}
        {{ (bytes / gigabyte)|number_format(2, '.') ~ ' GB' }}
    {% else %}
        {{ (bytes / terabyte)|number_format(2, '.') ~ ' TB' }}
    {% endif %}
{% endspaceless %}
{% endmacro %}

Hello,

This is your daily capture status report. 

{% for reportItem in emailReportArray %}
Source: {{ reportItem.sourceId }} - {{ reportItem.sourceName }}
Active: {{ reportItem.active }}
Total Capture Count: {{ reportItem.total.count }}
Total Capture Size: {{ emailTable.bytesToSize(reportItem.total.size) }}
Total Capture Score: {{ reportItem.schedule.overall.plannedSlots }} %
--------------------------------------------------------------------------------
Scheduled Slots: {{ reportItem.schedule.overall.plannedSlots }}
JPG Capture Count: {{ reportItem.jpg.count }}
JPG Capture Size: {{ emailTable.bytesToSize(reportItem.jpg.size) }}
JPG Success Rate: {{ reportItem.schedule.jpg.successRate }}
RAW Capture Count: {{ reportItem.raw.count }}
RAW Capture Size: {{ emailTable.bytesToSize(reportItem.raw.size) }}
RAW Success Rate: {{ reportItem.schedule.raw.successRate }}

================================================================================

{% endfor %} 

Your Webcampak.

PS: Contact your webcampak administrator if you want to update your email subscriptions.
